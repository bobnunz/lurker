
<link rel="stylesheet" type="text/css" href="/node_modules/primeicons/primeicons.css" />
<link rel="stylesheet" type="text/css" href="/node_modules/primeng/resources/themes/nova-light/theme.css" />
<link rel="stylesheet" type="text/css" href="/node_modules/primeng/resources/primeng.min.css" />


<mat-tab-group id="mainTabs" style="width: 100%; height: 100%">

  <mat-tab label="Results">
    <ng-template matTabContent>
    
      <!--
        <p-tabView id="mainTabs" >
          <p-tabPanel id="mpTabs" header="Results" style="width: 100%; height: 100%">

      <ng-template pTemplate="content">
      -->
      <div style="height: 100%; padding-top: 155px; box-sizing: border-box;">
        <ag-grid-angular #agGrid
                         style="width: 100%; height: 100%"
                         [rowDragManaged]="true"
                         class="ag-theme-fresh"
                         [animateRows]="true"
                         [defaultColDef]="defaultColDef"
                         [multiSortKey]="multiSortKey"
                         [suppressHorizontalScroll]="false"
                         rowSelection="multiple"
                         id="mygrid"
                         [rowData]="resultsData.items"
                         [pinnedTopRowData]="pinnedTopRowData"
                         [columnDefs]="columnDefs"
                         [isExternalFilterPresent]="isExternalFilterPresent"
                         [doesExternalFilterPass]="doesExternalFilterPass"
                         (gridReady)="onGridReady($event)">

        </ag-grid-angular>
      </div>

      <div style="position: absolute; top: 5px; left: 5px; font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 13px;">
        <mat-toolbar>Box Score Lurker Site - Results</mat-toolbar>

        <div style="padding-bottom: 4px;">

            <label style="margin-left: 0px;">

              <button mat-button [matMenuTriggerFor]="main_menu">{{menuButtonText}}</button>

              <mat-menu #main_menu="matMenu">
                <ng-container *ngFor="let mainItem of getMenuObjKeys()">
                  <button mat-menu-item [matMenuTriggerFor]="sub_menu" >{{ mainItem }}</button>
                  <mat-menu #sub_menu="matMenu">
 <!--
                    <button *ngFor="let subItem of menuObj.get(mainItem)" mat-menu-item (click)="externalFilterChanged(mainItem,subItem)">{{ subItem }}</button>
  -->
                    <button *ngFor="let subItem of menuObj.get(mainItem)" mat-menu-item (click)="getNewYearRound(mainItem,subItem)">{{ subItem }}</button>

                  </mat-menu>
                </ng-container>
              </mat-menu>

            </label>

          <label style="margin-left: 20px;"> <button (click)="saveToCSV()">Export to CSV</button> </label>
          <label style="margin-left: 20px;"> <button (click)="sizeToFit()">Fit Columns to Screen</button> </label>
          <label style="margin-left: 20px;"> <button (click)="autoSize()">Autosize All Columns</button> </label>
          <p>Year: {{yearType}}  Round: {{roundType}}</p>
        </div>
        </div>
    </ng-template>
  </mat-tab>

</mat-tab-group>

